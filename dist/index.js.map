{"version":3,"sources":["webpack://grapesjs-components-farmer/webpack/universalModuleDefinition","webpack://grapesjs-components-farmer/webpack/bootstrap","webpack://grapesjs-components-farmer/./node_modules/doT/doT.js","webpack://grapesjs-components-farmer/./src/consts.js","webpack://grapesjs-components-farmer/./src/panels.js","webpack://grapesjs-components-farmer/./src/traits.js","webpack://grapesjs-components-farmer/./src/blocks.js","webpack://grapesjs-components-farmer/external \"grapesjs\"","webpack://grapesjs-components-farmer/./src/index.js","webpack://grapesjs-components-farmer/./src/templating.js","webpack://grapesjs-components-farmer/external \"jQuery\""],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE_kYSa__","__WEBPACK_EXTERNAL_MODULE_xeH2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_RESULT__","_globals","doT","version","templateSettings","evaluate","interpolate","encode","use","useParams","defineParams","conditional","iterate","varname","strip","append","selfcontained","doNotSkipEncoded","template","undefined","compile","log","encodeHTMLSource","encodeHTMLRules","&","<",">","\"","'","/","matchHTML","code","toString","replace","this","eval","startend","start","end","startencode","split","skip","unescape","tmpl","def","needhtmlencode","indv","cse","sid","str","resolveDefs","block","assign","indexOf","substring","param","v","arg","text","Function","rw","__exp","RegExp","elsecase","vname","iname","_encodeHTML","e","console","__webpack_exports__","editor","opts","cmds","Commands","pn","Panels","eConfig","getConfig","swv","expt","osm","ola","obl","ful","prv","showDevices","txtConfirm","textCleanCanvas","add","setDevice","confirm","runCommand","getPanels","reset","id","buttons","command","context","active","className","attributes","title","addPanel","on","editorEl","$","getEl","openTmBtn","getButton","set","openSm","traitsSector","traitsProps","find","hide","before","traitStyle","style","hidden","display","openBl","showStylesOnChange","openSmBtn","openLayersBtn","getSelected","arguments","length","tm","TraitManager","dc","DomComponents","defaultType","BlockManager","getType","defaultModel","model","defaultView","view","fieldTraits","defaults","traits","concat","type","label","placeholder","inputTraits","changeProp","addType","events","onchange","getInputEl","inputEl","input","document","createElement","target","onValueChange","myDefaultModel","extend","_objectSpread","draggable","droppable","copyable","label_attr","toHTML","cf","comps","tagName","rst","genHtml","useTag","html","innerText","outerHTML","getTraitValues","values","each","trait","k","myInitDefaults","ensureNameAttr","attrs","nameTrait","where","name_attr","formFieldsPrefix","formNextId","el","generateHtml","$el","$k","templateFn","empty","myDefaultView","onRender","type_attr","options","classes","comp_input","init","listenTo","option_attr","comp_select","comp_textarea","comp_file","comp_checkbox","comp_hidden","comp_submit","comp_row","comp_col","sitekey_attr","action_attr","comp_recaptcha","bm","blocks","blockCategories","resetBlocks","getAll","allBlocks","category","categoryLabel","comp_col1","class","content","components","comp_col2","comp_col3","comp_text","padding","activeOnRender","comp_image","color","comp_map","height","grapesjs","plugins","commands","opts_comps","default_comps","x","y","j","addResource","url","doc","Canvas","getDocument","head","getElementsByTagName","res","src","rel","href","appendChild","compileTemplates","keys","forEach","run","getHtml","tag","default","panel","setTimeout","win","css","styleSheet","cssText","createTextNode","getBody","ownerWindow","click","event","srcElement","toLowerCase","preventDefault"],"mappings":"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","file":"/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"grapesjs\"), require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"grapesjs-components-farmer\", [\"grapesjs\", \"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-components-farmer\"] = factory(require(\"grapesjs\"), require(\"jQuery\"));\n\telse\n\t\troot[\"grapesjs-components-farmer\"] = factory(root[\"grapesjs\"], root[\"jQuery\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_kYSa__, __WEBPACK_EXTERNAL_MODULE_xeH2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// doT.js\n// 2011-2014, Laura Doktorova, https://github.com/olado/doT\n// Licensed under the MIT license.\n\n(function () {\n\t\"use strict\";\n\n\tvar doT = {\n\t\tname: \"doT\",\n\t\tversion: \"1.1.1\",\n\t\ttemplateSettings: {\n\t\t\tevaluate:    /\\{\\{([\\s\\S]+?(\\}?)+)\\}\\}/g,\n\t\t\tinterpolate: /\\{\\{=([\\s\\S]+?)\\}\\}/g,\n\t\t\tencode:      /\\{\\{!([\\s\\S]+?)\\}\\}/g,\n\t\t\tuse:         /\\{\\{#([\\s\\S]+?)\\}\\}/g,\n\t\t\tuseParams:   /(^|[^\\w$])def(?:\\.|\\[[\\'\\\"])([\\w$\\.]+)(?:[\\'\\\"]\\])?\\s*\\:\\s*([\\w$\\.]+|\\\"[^\\\"]+\\\"|\\'[^\\']+\\'|\\{[^\\}]+\\})/g,\n\t\t\tdefine:      /\\{\\{##\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)#\\}\\}/g,\n\t\t\tdefineParams:/^\\s*([\\w$]+):([\\s\\S]+)/,\n\t\t\tconditional: /\\{\\{\\?(\\?)?\\s*([\\s\\S]*?)\\s*\\}\\}/g,\n\t\t\titerate:     /\\{\\{~\\s*(?:\\}\\}|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+))?\\s*\\}\\})/g,\n\t\t\tvarname:\t\"it\",\n\t\t\tstrip:\t\ttrue,\n\t\t\tappend:\t\ttrue,\n\t\t\tselfcontained: false,\n\t\t\tdoNotSkipEncoded: false\n\t\t},\n\t\ttemplate: undefined, //fn, compile template\n\t\tcompile:  undefined, //fn, for express\n\t\tlog: true\n\t}, _globals;\n\n\tdoT.encodeHTMLSource = function(doNotSkipEncoded) {\n\t\tvar encodeHTMLRules = { \"&\": \"&#38;\", \"<\": \"&#60;\", \">\": \"&#62;\", '\"': \"&#34;\", \"'\": \"&#39;\", \"/\": \"&#47;\" },\n\t\t\tmatchHTML = doNotSkipEncoded ? /[&<>\"'\\/]/g : /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\t\treturn function(code) {\n\t\t\treturn code ? code.toString().replace(matchHTML, function(m) {return encodeHTMLRules[m] || m;}) : \"\";\n\t\t};\n\t};\n\n\t_globals = (function(){ return this || (0,eval)(\"this\"); }());\n\n\t/* istanbul ignore else */\n\tif (typeof module !== \"undefined\" && module.exports) {\n\t\tmodule.exports = doT;\n\t} else if (typeof define === \"function\" && define.amd) {\n\t\tdefine(function(){return doT;});\n\t} else {\n\t\t_globals.doT = doT;\n\t}\n\n\tvar startend = {\n\t\tappend: { start: \"'+(\",      end: \")+'\",      startencode: \"'+encodeHTML(\" },\n\t\tsplit:  { start: \"';out+=(\", end: \");out+='\", startencode: \"';out+=encodeHTML(\" }\n\t}, skip = /$^/;\n\n\tfunction resolveDefs(c, block, def) {\n\t\treturn ((typeof block === \"string\") ? block : block.toString())\n\t\t.replace(c.define || skip, function(m, code, assign, value) {\n\t\t\tif (code.indexOf(\"def.\") === 0) {\n\t\t\t\tcode = code.substring(4);\n\t\t\t}\n\t\t\tif (!(code in def)) {\n\t\t\t\tif (assign === \":\") {\n\t\t\t\t\tif (c.defineParams) value.replace(c.defineParams, function(m, param, v) {\n\t\t\t\t\t\tdef[code] = {arg: param, text: v};\n\t\t\t\t\t});\n\t\t\t\t\tif (!(code in def)) def[code]= value;\n\t\t\t\t} else {\n\t\t\t\t\tnew Function(\"def\", \"def['\"+code+\"']=\" + value)(def);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn \"\";\n\t\t})\n\t\t.replace(c.use || skip, function(m, code) {\n\t\t\tif (c.useParams) code = code.replace(c.useParams, function(m, s, d, param) {\n\t\t\t\tif (def[d] && def[d].arg && param) {\n\t\t\t\t\tvar rw = (d+\":\"+param).replace(/'|\\\\/g, \"_\");\n\t\t\t\t\tdef.__exp = def.__exp || {};\n\t\t\t\t\tdef.__exp[rw] = def[d].text.replace(new RegExp(\"(^|[^\\\\w$])\" + def[d].arg + \"([^\\\\w$])\", \"g\"), \"$1\" + param + \"$2\");\n\t\t\t\t\treturn s + \"def.__exp['\"+rw+\"']\";\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar v = new Function(\"def\", \"return \" + code)(def);\n\t\t\treturn v ? resolveDefs(c, v, def) : v;\n\t\t});\n\t}\n\n\tfunction unescape(code) {\n\t\treturn code.replace(/\\\\('|\\\\)/g, \"$1\").replace(/[\\r\\t\\n]/g, \" \");\n\t}\n\n\tdoT.template = function(tmpl, c, def) {\n\t\tc = c || doT.templateSettings;\n\t\tvar cse = c.append ? startend.append : startend.split, needhtmlencode, sid = 0, indv,\n\t\t\tstr  = (c.use || c.define) ? resolveDefs(c, tmpl, def || {}) : tmpl;\n\n\t\tstr = (\"var out='\" + (c.strip ? str.replace(/(^|\\r|\\n)\\t* +| +\\t*(\\r|\\n|$)/g,\" \")\n\t\t\t\t\t.replace(/\\r|\\n|\\t|\\/\\*[\\s\\S]*?\\*\\//g,\"\"): str)\n\t\t\t.replace(/'|\\\\/g, \"\\\\$&\")\n\t\t\t.replace(c.interpolate || skip, function(m, code) {\n\t\t\t\treturn cse.start + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.encode || skip, function(m, code) {\n\t\t\t\tneedhtmlencode = true;\n\t\t\t\treturn cse.startencode + unescape(code) + cse.end;\n\t\t\t})\n\t\t\t.replace(c.conditional || skip, function(m, elsecase, code) {\n\t\t\t\treturn elsecase ?\n\t\t\t\t\t(code ? \"';}else if(\" + unescape(code) + \"){out+='\" : \"';}else{out+='\") :\n\t\t\t\t\t(code ? \"';if(\" + unescape(code) + \"){out+='\" : \"';}out+='\");\n\t\t\t})\n\t\t\t.replace(c.iterate || skip, function(m, iterate, vname, iname) {\n\t\t\t\tif (!iterate) return \"';} } out+='\";\n\t\t\t\tsid+=1; indv=iname || \"i\"+sid; iterate=unescape(iterate);\n\t\t\t\treturn \"';var arr\"+sid+\"=\"+iterate+\";if(arr\"+sid+\"){var \"+vname+\",\"+indv+\"=-1,l\"+sid+\"=arr\"+sid+\".length-1;while(\"+indv+\"<l\"+sid+\"){\"\n\t\t\t\t\t+vname+\"=arr\"+sid+\"[\"+indv+\"+=1];out+='\";\n\t\t\t})\n\t\t\t.replace(c.evaluate || skip, function(m, code) {\n\t\t\t\treturn \"';\" + unescape(code) + \"out+='\";\n\t\t\t})\n\t\t\t+ \"';return out;\")\n\t\t\t.replace(/\\n/g, \"\\\\n\").replace(/\\t/g, '\\\\t').replace(/\\r/g, \"\\\\r\")\n\t\t\t.replace(/(\\s|;|\\}|^|\\{)out\\+='';/g, '$1').replace(/\\+''/g, \"\");\n\t\t\t//.replace(/(\\s|;|\\}|^|\\{)out\\+=''\\+/g,'$1out+=');\n\n\t\tif (needhtmlencode) {\n\t\t\tif (!c.selfcontained && _globals && !_globals._encodeHTML) _globals._encodeHTML = doT.encodeHTMLSource(c.doNotSkipEncoded);\n\t\t\tstr = \"var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : (\"\n\t\t\t\t+ doT.encodeHTMLSource.toString() + \"(\" + (c.doNotSkipEncoded || '') + \"));\"\n\t\t\t\t+ str;\n\t\t}\n\t\ttry {\n\t\t\treturn new Function(c.varname, str);\n\t\t} catch (e) {\n\t\t\t/* istanbul ignore else */\n\t\t\tif (typeof console !== \"undefined\") console.log(\"Could not create a template function: \" + str);\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\tdoT.compile = function(tmpl, def) {\n\t\treturn doT.template(tmpl, null, def);\n\t};\n}());\n","export const\n  cmdDeviceDesktop = 'set-device-desktop',\n  cmdDeviceTablet = 'set-device-tablet',\n  cmdDeviceMobile = 'set-device-mobile',\n  cmdClear = 'canvas-clear'\n","import {\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear\n} from './consts'\n\nimport $ from 'jquery'\n\nexport default (editor, opts) => {\n  const cmds    = editor.Commands\n  const pn      = editor.Panels\n  const eConfig = editor.getConfig()\n  const crc     = 'create-comp'\n  const mvc     = 'move-comp'\n  const swv     = 'sw-visibility'\n  const expt    = 'export-template'\n  const osm     = 'open-sm'\n  const otm     = 'open-tm'\n  const ola     = 'open-layers'\n  const obl     = 'open-blocks'\n  const ful     = 'fullscreen'\n  const prv     = 'preview'\n\n  eConfig.showDevices = 0\n\n  const txtConfirm = opts.textCleanCanvas || 'Are you sure to clean the canvas?'\n\n  cmds.add(cmdDeviceDesktop, e => e.setDevice('Desktop'))\n  cmds.add(cmdDeviceTablet, e => e.setDevice('Tablet'))\n  cmds.add(cmdDeviceMobile, e => e.setDevice('Mobile portrait'))\n  cmds.add(cmdClear, e => confirm(txtConfirm) && e.runCommand('core:canvas-clear'))\n\n  pn.getPanels().reset([{\n    id: 'commands',\n    buttons: [{}],\n  },{\n    id: 'options',\n    buttons: [{\n      id: swv,\n      command: swv,\n      context: swv,\n      active: 1,\n      className: 'fa fa-square-o',\n      attributes: {\n        title: 'Show Borders'\n      }\n    },{\n      id: prv,\n      context: prv,\n      command: e => e.runCommand(prv),\n      className: 'fa fa-eye',\n      attributes: {\n        title: 'Preview'\n      }\n    },{\n      id: ful,\n      command: ful,\n      context: ful,\n      className: 'fa fa-arrows-alt',\n      attributes: {\n        title: 'Fullscreen'\n      }\n    },{\n      id: expt,\n      className: 'fa fa-code',\n      command: e => e.runCommand(expt),\n      attributes: {\n        title: 'Show code'\n      }\n    },{\n      id: 'undo',\n      className: 'fa fa-undo',\n      command: e => e.runCommand('core:undo'),\n      attributes: {\n        title: 'Undo'\n      }\n    },{\n      id: 'redo',\n      className: 'fa fa-repeat',\n      command: e => e.runCommand('core:redo'),\n      attributes: {\n        title: 'Redo'\n      }\n    },{\n      id: cmdClear,\n      className: 'fa fa-trash',\n      command: e => e.runCommand(cmdClear),\n      attributes: {\n        title: 'Clear canvas'\n      }\n    }],\n  },{\n    id: 'views',\n    buttons  : [{\n      id: osm,\n      command: osm,\n      className: 'fa fa-paint-brush',\n      attributes: {\n        title: 'Style Manager'\n      }\n    },{\n      id: otm,\n      command: otm,\n      className: 'fa fa-cog',\n      attributes: {\n        title: 'Settings'\n      }\n    },{\n      id: ola,\n      command: ola,\n      className: 'fa fa-bars',\n      attributes: {\n        title: 'Layers'\n      }\n    },{\n      id: obl,\n      command: obl,\n      className: 'fa fa-th-large',\n      active: 1,\n      attributes: {\n        title: 'Blocks'\n      }\n    }],\n  }])\n\n  // Add devices buttons\n  const panelDevices = pn.addPanel({id: 'devices-c'})\n  panelDevices.get('buttons').add([{\n    id: cmdDeviceDesktop,\n    command: cmdDeviceDesktop,\n    className: 'fa fa-desktop',\n    active: 1,\n    attributes: {\n      title: 'Desktop'\n    }\n  },{\n    id: cmdDeviceTablet,\n    command: cmdDeviceTablet,\n    className: 'fa fa-tablet',\n    attributes: {\n      title: 'Tablet'\n    }\n  },{\n    id: cmdDeviceMobile,\n    command: cmdDeviceMobile,\n    className: 'fa fa-mobile',\n    attributes: {\n      title: 'Mobile'\n    }\n  }])\n\n\n  editor.on('load', () => {\n    const pn       = editor.Panels\n    const editorEl = $(editor.getEl())\n\n    // Load and show settings and style manager\n    const openTmBtn = pn.getButton('views', 'open-tm')\n    openTmBtn && openTmBtn.set('active', 1)\n    const openSm = pn.getButton('views', 'open-sm')\n    openSm && openSm.set('active', 1)\n\n    // Add Settings Sector\n    const traitsSector = $(`<div class=\"gjs-sm-sector no-select\">\n<div class=\"gjs-sm-title\"><span class=\"icon-settings fa fa-cog\"></span> Settings</div>\n<div class=\"gjs-sm-properties\"></div></div>`)\n    const traitsProps  = traitsSector.find('.gjs-sm-properties')\n\n    // copy from settings tab into traits sector and then hide settings tab\n    traitsProps.append(editorEl.find('.gjs-trt-traits'))\n    editorEl.find('.gjs-pn-views .fa-cog').hide()\n    editorEl.find('.gjs-sm-sectors').before(traitsSector)\n\n    traitsSector.find('.gjs-sm-title').on('click', () => {\n      const traitStyle = traitsProps.get(0).style\n      const hidden = traitStyle.display === 'none'\n      if (hidden) {\n        traitStyle.display = 'block'\n      } else {\n        traitStyle.display = 'none'\n      }\n    })\n\n    const openBl = pn.getButton('views', obl)\n    openBl && openBl.set('active', 1)\n\n    // On component change show the Style Manager\n    opts.showStylesOnChange && editor.on('component:selected', () => {\n      const openSmBtn = pn.getButton('views', osm)\n      const openLayersBtn = pn.getButton('views', ola)\n\n      // Don't switch when the Layer Manager is on or\n      // there is no selected component\n      if ((!openLayersBtn || !openLayersBtn.get('active')) && editor.getSelected()) {\n        openSmBtn && openSmBtn.set('active', 1)\n      }\n    })\n  })\n}\n","import $ from 'jquery'\n\nexport default (editor, opts = {}) => {\n  const tm = editor.TraitManager\n  const dc = editor.DomComponents\n  const bm = editor.BlockManager\n\n  const defaultType  = dc.getType('default')\n  const selectType   = dc.getType('select') || defaultType\n  const defaultModel = defaultType.model\n  const defaultView  = defaultType.view\n  const textType     = dc.getType('text')\n\n  const fieldTraits = defaultModel.prototype.defaults.traits.concat([\n    {\n      type: 'text',\n      name: 'name_attr',\n      label: 'Name',\n      placeholder: 'Enter a field name..'\n    }, {\n      type: 'text',\n      name: 'label_attr',\n      label: 'Label',\n      placeholder: 'Enter a field label..'\n    }\n  ])\n\n  const inputTraits = fieldTraits.concat([\n    {\n      type: 'text',\n      name: 'value_attr',\n      label: 'Value',\n      changeProp: 1,\n      placeholder: 'Enter a default value..'\n    }, {\n      type: 'text',\n      name: 'placeholder_attr',\n      label: 'Placeholder',\n      changeProp: 1,\n      placeholder: 'Enter placeholder text..'\n    }, {\n      type: 'checkbox',\n      name: 'required_attr',\n      changeProp: 1,\n      label: 'Required'\n    }, {\n      type: 'text',\n      name: 'pattern_attr',\n      changeProp: 1,\n      label: 'Pattern'\n    }, {\n      type: 'number',\n      name: 'min_attr',\n      changeProp: 1,\n      label: 'Min'\n    }, {\n      type: 'number',\n      name: 'max_attr',\n      changeProp: 1,\n      label: 'Max'\n    }\n  ])\n\n  // text, password, email, number, url, tel, search, date, datetime,\n  // datetime-local, month, week, time, range, or color\n  // exclude: file\n  const inputTypeTrait = {\n    type: 'select',\n    name: 'type_attr',\n    label: 'Type',\n    options: [\n      { name: 'Text', value: 'text' },\n      { name: 'Password', value: 'password' },\n      { name: 'Email', value: 'email' },\n      { name: 'Number', value: 'number' },\n      { name: 'URL', value: 'url' },\n      { name: 'Phone', value: 'tel' },\n      // { name: 'Search', value: 'tel' },\n      { name: 'Date', value: 'date' },\n      { name: 'Date Time', value: 'datetime-local' },\n      // { name: 'Month', value: 'month' },\n      // { name: 'Week', value: 'week' },\n      { name: 'Range', value: 'range' },\n      // { name: 'Time', value: 'time' },\n      { name: 'Color Picker', value: 'color' },\n    ]\n  }\n\n  // advanced traits\n  tm.addType('option_attr', {\n    events:{\n      'onchange': 'onChange'\n    },\n\n    /**\n    * Returns the input element\n    * @return {HTMLElement}\n    */\n    getInputEl: function() {\n      if (!this.inputEl) {\n        var input = document.createElement('textarea')\n        input.value = this.target.get('option_attr')\n        this.inputEl = input\n      }\n\n      return this.inputEl\n    },\n\n    /**\n     * Triggered when the value of the model is changed\n     */\n    onValueChange: function () {\n      this.target.set('option_attr', this.model.get('value'))\n    }\n  })\n\n  const myDefaultModel = defaultModel.extend({\n    defaults: {\n      ...defaultModel.prototype.defaults,\n      draggable: true,\n      droppable: true,\n      copyable: false,\n      label_attr: 'Label'\n    },\n    // force regenerate of HTML\n    toHTML() {\n      const cf  = opts.comps[this.attributes.tagName]\n      const rst = this.genHtml()\n      if (cf && cf.useTag) {\n        if (cf.useTag === 'innerHTML') {\n          return rst.html()\n        } else if (cf.useTag === 'innerText') {\n          return this.genHtml()[0].innerText\n        }\n      }\n\n      return this.genHtml()[0].outerHTML\n    },\n    getTraitValues() {\n      const values = { ...this.attributes }\n      this.get('traits').\n        each((trait) => {\n          const k = trait.get('name')\n          values[k] = trait.get('value') || values[k]\n        })\n\n      return values\n    },\n    myInitDefaults() {\n      const that   = this\n      const values = { ...that.attributes }\n      that.get('traits').\n        each((trait) => {\n          const k = trait.get('name')\n          // set defaults\n          if (k.indexOf('_attr') > 0) {\n            trait.set('value', values[k])\n          }\n        })\n    },\n    ensureNameAttr(attrs) {\n      const model = this\n      const nameTrait = model.get('traits').where({name: 'name_attr'})[0]\n\n      if (nameTrait) {\n        let name = attrs.name_attr\n        if (!name) {\n          name = `${opts.formFieldsPrefix}${opts.formNextId++}`\n          nameTrait.set('value', name)\n          model.set('name_attr', name)\n          return true\n        }\n      }\n\n      return false\n    },\n    // function to use with listener\n    genHtml() {\n      if (!this.view || !this.view.el) {\n        const el = document.createElement(this.attributes.tagName)\n        return this.generateHtml(el, this.attributes.tagName)\n      }\n\n      return this.generateHtml(this.view.el, this.attributes.tagName)\n    },\n    generateHtml(el, k) {\n      const model = this\n      const $el   = $(el || model.view.el)\n      const attrs = model.getTraitValues()\n      const $k    = $k || model.get('tagName')\n\n      if (opts && opts.comps && opts.comps[$k]) {\n        const templateFn = opts.comps[$k].template\n\n        if (typeof(templateFn) === 'function') {\n          if (!model.ensureNameAttr(attrs)) {\n            $el.empty()\n            $el.html(templateFn(attrs || {}))\n          }\n        }\n      }\n\n      return $el\n    }\n  })\n\n  // override default view to generate html\n  const myDefaultView = defaultView.extend({\n    onRender() {\n      if (this.model.genHtml) {\n        this.model.genHtml()\n      }\n\n      return this\n    }\n  })\n\n  // BEGIN: components\n  dc.addType('comp_input', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_input',\n        type_attr: 'text',\n        traits: inputTraits.concat(inputTypeTrait),\n        classes: ['comp_input'].concat(opts.comps.comp_input.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:label_attr', that.genHtml)\n        that.listenTo(that, 'change:name_attr', that.genHtml)\n        that.listenTo(that, 'change:placeholder_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  // Select Box\n  dc.addType('comp_select', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_select',\n        option_attr: 'MN::Minnesota\\nTX::Texas',\n        label_attr: 'Select',\n        traits: [\n          {\n            type: 'option_attr'\n          }, {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }, {\n            type: 'checkbox',\n            name: 'multiple_attr',\n            changeProp: 1,\n            label: 'Multiple'\n          }\n        ].concat(fieldTraits),\n        classes: ['comp_select'].concat(opts.comps.comp_select.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:label_attr', that.genHtml)\n        that.listenTo(that, 'change:name_attr', that.genHtml)\n        that.listenTo(that, 'change:multiple_attr', that.genHtml)\n        that.listenTo(that, 'change:option_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_textarea', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_textarea',\n        label_attr: 'Message',\n        traits: [\n          {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }, {\n            type: 'text',\n            name: 'placeholder_attr',\n            label: 'Placeholder',\n            changeProp: 1,\n            placeholder: 'Enter placeholder text..'\n          }, {\n            type: 'number',\n            name: 'rows_attr',\n            label: 'Rows',\n            changeProp: 1,\n            placeholder: 'Enter field rows/line-height..'\n          }, {\n            type: 'number',\n            name: 'cols_attr',\n            label: 'Columns',\n            changeProp: 1,\n            placeholder: 'Enter field columns/width..'\n          },\n        ].concat(fieldTraits),\n        classes: ['comp_textarea'].concat(opts.comps.comp_textarea.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:label_attr', that.genHtml)\n        that.listenTo(that, 'change:name_attr', that.genHtml)\n        that.listenTo(that, 'change:placeholder_attr', that.genHtml)\n        that.listenTo(that, 'change:cols_attr', that.genHtml)\n        that.listenTo(that, 'change:rows_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_file', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_file',\n        label_attr: 'Choose file...',\n        traits: [\n          {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }, {\n            type: 'text',\n            name: 'placeholder_attr',\n            label: 'Placeholder',\n            changeProp: 1,\n            placeholder: 'Enter placeholder text..'\n          }, {\n            type: 'string',\n            name: 'accept_attr',\n            label: 'Accept',\n            changeProp: 1,\n            placeholder: 'image/jpeg, image/png, image/gif'\n          },\n        ].concat(fieldTraits),\n        classes: ['comp_file'].concat(opts.comps.comp_file.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:label_attr', that.genHtml)\n        that.listenTo(that, 'change:name_attr', that.genHtml)\n        that.listenTo(that, 'change:placeholder_attr', that.genHtml)\n        that.listenTo(that, 'change:accept_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_checkbox', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_checkbox',\n        label_attr: 'I accept the terms and use',\n        traits: [\n          {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }\n        ].concat(fieldTraits),\n        classes: ['comp_checkbox'].concat(opts.comps.comp_checkbox.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:label_attr', that.genHtml)\n        that.listenTo(that, 'change:name_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_hidden', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_hidden',\n        traits: [{\n          type: 'text',\n          name: 'name_attr',\n          label: 'Name',\n          changeProp: 1,\n          placeholder: 'Enter a field name...'\n        }],\n        classes: ['comp_hidden'].concat(opts.comps.comp_hidden.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:name_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_submit', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_submit',\n        label_attr: 'Send',\n        traits: defaultModel.prototype.defaults.traits.concat([\n          {\n            type: 'text',\n            name: 'label_attr',\n            label: 'Label',\n            placeholder: 'Enter a field label..'\n          }\n        ]),\n        classes: ['comp_submit'].concat(opts.comps.comp_submit.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:label_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_row', {\n    model: defaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        tagName: 'comp_row',\n        // Can be dropped inside other elements\n        draggable: true,\n        copyable: false,\n        // Can drop other elements inside it\n        droppable: 'comp_col',\n        classes: ['comp_row'].concat(opts.comps.comp_row.classes)\n      }\n    }),\n    view: defaultView\n  })\n\n  dc.addType('comp_col', {\n    model: defaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        tagName: 'comp_col',\n        // Can be dropped only inside `row` elements\n        draggable: 'comp_row',\n        // Can drop other elements inside it\n        droppable: true,\n        copyable: false,\n        classes: ['comp_col'].concat(opts.comps.comp_col.classes)\n      }\n    }),\n    view: defaultView\n  })\n\n\n  dc.addType('comp_recaptcha', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_recaptcha',\n        sitekey_attr: 'sitekey',\n        action_attr: 'contact-us',\n        traits: defaultModel.prototype.defaults.traits.concat([\n          {\n            type: 'text',\n            name: 'sitekey_attr',\n            label: 'Site key',\n            placeholder: 'e.g. sitekey'\n          },\n          {\n            type: 'text',\n            name: 'action_attr',\n            label: 'Action',\n            placeholder: 'recaptcha action name'\n          }\n        ]),\n        classes: ['comp_recaptcha'].concat(opts.comps.comp_recaptcha.classes)\n      },\n      init() {\n        const that = this\n        that.myInitDefaults()\n\n        that.listenTo(that, 'change:sitekey_attr', that.genHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n}\n","export default (editor, opts = {}) => {\n  const bm     = editor.BlockManager\n  const c      = opts.comps\n  const blocks = c.blocks\n  const cats   = c.blockCategories\n\n  if (opts.resetBlocks) {\n    bm.getAll().reset()\n  }\n\n  const allBlocks = {\n    category: opts.categoryLabel\n  }\n\n  // CORE BLOCKS\n  bm.add('comp_col1').set({\n    label: c.comp_col1.label,\n    attributes: { class: 'gjs-fonts gjs-f-b1' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col', classes: c.comp_col1.classes.concat(c.comp_col.classes) }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_col2').set({\n    label: c.comp_col2.label,\n    attributes: { class: 'gjs-fonts gjs-f-b2' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col', classes: c.comp_col2.classes.concat(c.comp_col.classes) },\n        { type: 'comp_col', classes: c.comp_col2.classes.concat(c.comp_col.classes) }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_col3').set({\n    label: c.comp_col3.label,\n    attributes: { class: 'gjs-fonts gjs-f-b3' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col', classes: c.comp_col3.classes.concat(c.comp_col.classes) },\n        { type: 'comp_col', classes: c.comp_col3.classes.concat(c.comp_col.classes) },\n        { type: 'comp_col', classes: c.comp_col3.classes.concat(c.comp_col.classes) }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_submit', {\n    label: `\n      <div style=\"color: #fff;\n    background-color: #007bff;\n    border-color: #007bff;\n    display: inline-block;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    border: 1px solid transparent;\n    padding-left: 5px;\n    padding-right: 5px;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: .25rem;\n    margin-top: 12px;\n    margin-bottom: 16px;\n    width: 50px;\">&nbsp;</div>\n      <div class=\"gjs-block-label\">${c.comp_submit.label}</div>\n    `,\n    content: {\n      type: 'comp_submit'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_input', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_input.label}</div>`,\n    content: {\n      type: 'comp_input'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_textarea', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 8 5 8 5 12 4 12\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"19 7 20 7 20 17 19 17\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"20 8 21 8 21 9 20 9\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"20 15 21 15 21 16 20 16\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_textarea.label}</div>`,\n    content: {\n      type: 'comp_textarea'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_select', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\" fill-rule=\"nonzero\"></path>\n      <polygon class=\"gjs-block-svg-path\" transform=\"translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) \" points=\"18.5 11 20 13 17 13\"></polygon>\n      <rect class=\"gjs-block-svg-path\" x=\"4\" y=\"11.5\" width=\"11\" height=\"1\"></rect>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_select.label}</div>`,\n    content: {\n      type: 'comp_select'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_file', {\n    label: c.comp_file.label,\n    attributes: { class:'fa fa-file' },\n    content: {\n      type: 'comp_file'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_checkbox', {\n    label: c.comp_checkbox.label,\n    attributes: { class: 'fa fa-check-square' },\n    content: {\n      type: 'comp_checkbox'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_hidden', {\n    label: `<svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_hidden.label}</div>`,\n    content: {\n      type: 'comp_hidden'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_text', {\n    label: c.comp_text.label,\n    attributes: { class:'gjs-fonts gjs-f-text' },\n    content: {\n      type:'text',\n      content: 'Insert your text here',\n      style: {padding: '10px' },\n      activeOnRender: 1\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_image', {\n    label: c.comp_image.label,\n    attributes: { class:'gjs-fonts gjs-f-image' },\n    content: {\n      style: {color: 'black'},\n      type:'image',\n      activeOnRender: 1\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_map', {\n    label: c.comp_map.label,\n    attributes: { class:'fa fa-map-o' },\n    content: {\n      type: 'map',\n      style: { height: '350px' }\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_recaptcha', {\n    label: `\n      <image src=\"https://www.gstatic.com/recaptcha/api2/logo_48.png\">\n      <br /><br />\n    <div class=\"gjs-block-label\">${c.comp_recaptcha.label}</div>`,\n    content: {\n      type: 'comp_recaptcha'\n    },\n    ...allBlocks\n  })\n\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_kYSa__;","import $ from 'jquery'\nimport doTemplate from './templating'\nimport grapesjs from 'grapesjs'\n\nexport default grapesjs.plugins.add('grapesjs-components-farmer', (editor, opts = {}) => {\n  const commands   = editor.Commands\n  const pn         = editor.Panels\n  const opts_comps = opts.comps || {}\n\n  const default_comps = {\n    'comp_input': {\n      label: 'Input',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"<%=it.name_attr%>\"><%=it.label_attr%></label>\n        <input <%= it.required_attr ? 'required ' : '' %>type=\"<%=it.type_attr%>\" class=\"form-control\" name=\"<%=it.name_attr%>\" placeholder=\"<%=it.placeholder_attr || ''%>\" <%= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' %>/>\n      `\n    },\n    'comp_select': {\n      label: 'Select',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"<%=it.name_attr%>\"><%=it.label_attr%></label>\n        <select <%= it.multiple_attr ? 'multiple ' : '' %><%= it.required_attr ? 'required ' : '' %>class=\"form-control\" name=\"<%=it.name_attr%>\">\n          <option selected>-- Please select an option -- </option>\n          <%~ (it.option_attr + \"\").trim().split(\"\\\\n\") :option %>\n          <% var msgProps = option.split('::');\n          %> <option value=\"<%= msgProps[0]%>\"><%= msgProps[1] || msgProps[0] %></option><%~%>\n        </select>\n      `\n    },\n    'comp_file': {\n      label: 'File',\n      classes: 'custom-file',\n      useTag: 'div',\n      template: `\n        <input <%= it.required_attr ? 'required ' : '' %>type=\"file\" class=\"custom-file-input\" name=\"<%=it.name_attr%>\" placeholder=\"<%=it.placeholder_attr || ''%>\" <%= it.accept_attr ? 'accept=\"' + it.accept_attr + '\"' : '' %> <%= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' %>/>\n        <label for=\"<%=it.name_attr%>\" class=\"custom-file-label\"><%=it.label_attr%></label>\n      `\n    },\n    'comp_textarea': {\n      label: 'Textarea',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"<%=it.name_attr%>\"><%=it.label_attr%></label>\n        <textarea <%= it.required_attr ? 'required ' : '' %><%= it.rows_attr ? 'rows=\"' + it.rows_attr + '\" ' : '' %><%= it.rows_attr ? 'cols=\"' + it.rows_attr + '\" ' : '' %>class=\"form-control\" name=\"<%=it.name_attr%>\" placeholder=\"<%=it.placeholder_attr || ''%>\"><%= it.value_attr || '' %></textarea>\n      `\n    },\n    'comp_checkbox': {\n      label: 'Checkbox',\n      classes: 'form-check',\n      useTag: 'div',\n      template: `\n        <label for=\"<%=it.name_attr%>\" class=\"form-check-label\">\n          <input <%= it.required_attr ? 'required ' : '' %>type=\"checkbox\" name=\"<%=it.name_attr%>\" class=\"form-check-input\" <%= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' %>/>\n          <%=it.label_attr%>\n        </label>\n      `\n    },\n    'comp_hidden': {\n      label: 'Hidden Input',\n      useTag: 'div',\n      template: `\n        <input <%= it.required_attr ? 'required ' : '' %>type=\"hidden\" name=\"<%=it.name_attr%>\" <%= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' %>/>\n      `\n    },\n    'comp_submit': {\n      label: 'Submit Button',\n      classes: 'btn btn-primary btn-block',\n      useTag: 'button',\n      template: '<%= it.label_attr %>'\n    },\n    'comp_row': {\n      label: 'Row',\n      useTag: 'div',\n      classes: 'row'\n    },\n    'comp_col': {\n      label: 'Column',\n      useTag: 'div',\n      classes: 'col'\n    },\n    'comp_col1': {\n      label: '1 Column',\n      useTag: 'div',\n    },\n    'comp_col2': {\n      label: '2 Columns',\n      useTag: 'div',\n    },\n    'comp_col3': {\n      label: '3 Columns',\n      useTag: 'div',\n    },\n    'comp_text': {\n      label: 'Text'\n    },\n    'comp_image': {\n      label: 'Image'\n    },\n    'comp_map': {\n      label: 'Map'\n    },\n    'comp_recaptcha': {\n      label: 'reCaptcha',\n      classes: 'form-group',\n      template: `\n        <script src=\"https://www.google.com/recaptcha/api.js?render=<%= it.sitekey_attr %>\"></script>\n        <input type=\"hidden\" name=\"g-recaptcha-response\" id=\"g-recaptcha-response\" data-sitekey=\"<%= it.sitekey_attr %>\" data-action=\"<%= it.action_attr %>\" />\n      `\n    }\n  }\n\n  // provide defaults\n  for(let k in default_comps) {\n    const x = default_comps[k]\n    const y = opts_comps[k]\n    if (y) {\n      for(let j in y) {\n        y[j] = y[j] || x[j]\n      }\n      opts_comps[k] = y\n    } else {\n      opts_comps[k] = x\n    }\n\n    opts_comps[k]['classes'] = (opts_comps[k]['classes'] || '').split(' ')\n  }\n\n  const options = {\n    formNextId: 1,\n    categoryLabel: 'Basic',\n    formFieldsPrefix: 'field',\n    showStylesOnChange: 1,\n    addResource: (url, type='script') => {\n\n      const doc    = editor.Canvas.getDocument()\n      const head   = doc.head || doc.getElementsByTagName('head')[0]\n      const res    = document.createElement(type)\n\n      if (type === 'script') {\n        res.src = url\n      }\n      else if (type === 'link') {\n        res.rel    = 'stylesheet'\n        res.href   = url\n      }\n\n      head.appendChild(res)\n    }, ...opts\n  }\n\n  options.comps = options.comps || opts_comps\n\n  const compileTemplates = () => {\n    let doT = null\n\n    Object.keys(options.comps).forEach(k => {\n      const t = options.comps[k]\n\n      if (t && typeof(t.template) === 'string') {\n        if (!doT) {\n          doT = doTemplate()\n        }\n\n        t.template = doT.template(t.template)\n      }\n    })\n  }\n\n  /** Prevent Input Default Actions **/\n  const preventInputDefaults = () => {\n    const el     = editor.Canvas.getBody()\n    const win    = el.ownerWindow\n    const body = $(el)\n\n    body.click((e) => {\n      const event  = e || win.event\n      const target = event.target || event.srcElement\n      const tagName = (target.tagName + '').toLowerCase()\n      if (tagName === 'input') {\n        event.preventDefault()\n        return false\n      }\n    })\n  }\n\n  editor.runCommand('prevent-default');\n\n  commands.add('get-usable-html', {\n    run() {\n      // get the builder xml\n      let html = editor.getHtml()\n\n      // convert into html\n      for(let k in options.comps) {\n        // default tag as div unless useTag value is provided\n        const tag = options.comps[k].useTag || 'div'\n        html = html.replace(new RegExp('<' + k, 'g'), '<' + tag)\n        html = html.replace(new RegExp('</' + k + '>', 'g'), '</' + tag + '>')\n        html = html.replace(new RegExp(` data\\-gjs\\-type\\=\\\"${k}\\\" `, 'g'), ' ')\n        html = html.replace(new RegExp(' data\\-highlightable\\=\\\"1\\\" ', 'g'), ' ')\n      }\n\n      return html\n    }\n  })\n\n  // Add plugins\n  require('./traits').default(editor, options)\n  require('./blocks').default(editor, options)\n\n  if (opts.panel) {\n    require('./panels').default(editor, options)\n  }\n\n  editor.on('load', () => {\n    compileTemplates()\n\n    setTimeout(() => {\n      const doc  = editor.Canvas.getDocument()\n      const head = doc.head || doc.getElementsByTagName('head')[0]\n      var css    = `\nbody {\n  padding: 10px;\n}\n\ncomp_recaptcha,\ncomp_row,\ncomp_col,\ncomp_hidden {\n  min-height: 2rem !important;\n}\n\ncomp_row {\n  display: block;\n  width: 100%;\n  margin-left: 15px;\n  margin-right: 15px;\n}\n\ncomp_col {\n  min-width: 100px;\n}\n\ncomp_hidden, comp_recaptcha {\n  display: block;\n  width: 100%;\n  min-width: 100%;\n}\n`\n\n      const style = doc.createElement('style')\n\n      style.type = 'text/css';\n      if (style.styleSheet){\n        // This is required for IE8 and below.\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n      preventInputDefaults()\n    }, 10)\n  })\n})\n","import doT from 'doT'\n\nexport default () => {\n  doT.templateSettings = {\n    evaluate:    /\\<\\%([\\s\\S]+?)\\%\\>/g,\n    interpolate: /\\<\\%=([\\s\\S]+?)\\%\\>/g,\n    encode:      /\\<\\%!([\\s\\S]+?)\\%\\>/g,\n    use:         /\\<\\%#([\\s\\S]+?)\\%\\>/g,\n    define:      /\\<\\%##\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)#\\%\\>/g,\n    conditional: /\\<\\%\\?(\\?)?\\s*([\\s\\S]*?)\\s*\\%\\>/g,\n    iterate:     /\\<\\%~\\s*(?:\\%\\>|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+))?\\s*\\%\\>)/g,\n    varname: 'it',\n    strip: true,\n    append: true,\n    selfcontained: false\n  }\n\n  return doT\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_xeH2__;"],"sourceRoot":""}