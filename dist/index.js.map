{"version":3,"sources":["webpack://grapesjs-components-farmer/webpack/universalModuleDefinition","webpack://grapesjs-components-farmer/webpack/bootstrap","webpack://grapesjs-components-farmer/./src/consts.js","webpack://grapesjs-components-farmer/./src/panels.js","webpack://grapesjs-components-farmer/./src/traits.js","webpack://grapesjs-components-farmer/external \"doT\"","webpack://grapesjs-components-farmer/./src/blocks.js","webpack://grapesjs-components-farmer/./src/index.js","webpack://grapesjs-components-farmer/external \"jQuery\""],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE_eEd5__","__WEBPACK_EXTERNAL_MODULE_xeH2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","editor","opts","cmds","Commands","pn","Panels","eConfig","getConfig","swv","expt","osm","ola","obl","ful","prv","showDevices","txtConfirm","textCleanCanvas","add","e","setDevice","confirm","runCommand","getPanels","reset","id","buttons","command","context","active","className","attributes","title","addPanel","on","editorEl","$","getEl","openTmBtn","getButton","set","openSm","traitsSector","traitsProps","find","append","hide","before","traitStyle","style","hidden","display","openBl","showStylesOnChange","openSmBtn","openLayersBtn","getSelected","arguments","length","undefined","tm","TraitManager","dc","DomComponents","defaultType","BlockManager","getType","defaultModel","model","defaultView","view","textType","fieldTraits","defaults","traits","concat","type","label","placeholder","inputTraits","changeProp","addType","events","onchange","getInputEl","this","inputEl","input","document","createElement","target","onValueChange","myDefaultModel","extend","_objectSpread","draggable","droppable","copyable","label_attr","toHTML","el","tagName","generateHtml","outerHTML","getTraitValues","values","each","trait","k","ensureNameAttr","attrs","nameTrait","where","name_attr","formFieldsPrefix","formNextId","setAttributes","$el","$k","comps","templateFn","template","empty","myDefaultView","onRender","type_attr","options","classes","comp_input","split","init","listenTo","option_attr","comp_select","comp_textarea","comp_checkbox","comp_hidden","comp_submit","comp_row","comp_col","myTextView","getChildrenSelector","html","bm","blocks","blockCategories","resetBlocks","getAll","allBlocks","category","categoryLabel","comp_col1","class","content","components","comp_col2","comp_col3","comp_text","padding","activeOnRender","comp_image","labelImage","color","comp_map","height","commands","opts_comps","default_comps","useTag","comp_link","comp_video","x","y","j","addResource","url","doc","Canvas","getDocument","head","getElementsByTagName","res","src","rel","href","appendChild","run","getHtml","tag","realTag","replace","RegExp","default","panel","doT","keys","forEach","setTimeout","css","styleSheet","cssText","createTextNode"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"doT\"), require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"grapesjs-components-farmer\", [\"doT\", \"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-components-farmer\"] = factory(require(\"doT\"), require(\"jQuery\"));\n\telse\n\t\troot[\"grapesjs-components-farmer\"] = factory(root[\"doT\"], root[\"jQuery\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_eEd5__, __WEBPACK_EXTERNAL_MODULE_xeH2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const\n  cmdDeviceDesktop = 'set-device-desktop',\n  cmdDeviceTablet = 'set-device-tablet',\n  cmdDeviceMobile = 'set-device-mobile',\n  cmdClear = 'canvas-clear'\n","import {\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear\n} from './consts'\n\nimport $ from 'jquery'\n\nexport default (editor, opts) => {\n  const cmds    = editor.Commands\n  const pn      = editor.Panels\n  const eConfig = editor.getConfig()\n  const crc     = 'create-comp'\n  const mvc     = 'move-comp'\n  const swv     = 'sw-visibility'\n  const expt    = 'export-template'\n  const osm     = 'open-sm'\n  const otm     = 'open-tm'\n  const ola     = 'open-layers'\n  const obl     = 'open-blocks'\n  const ful     = 'fullscreen'\n  const prv     = 'preview'\n\n  eConfig.showDevices = 0\n\n  const txtConfirm = opts.textCleanCanvas || 'Are you sure to clean the canvas?'\n\n  cmds.add(cmdDeviceDesktop, e => e.setDevice('Desktop'))\n  cmds.add(cmdDeviceTablet, e => e.setDevice('Tablet'))\n  cmds.add(cmdDeviceMobile, e => e.setDevice('Mobile portrait'))\n  cmds.add(cmdClear, e => confirm(txtConfirm) && e.runCommand('core:canvas-clear'))\n\n  pn.getPanels().reset([{\n    id: 'commands',\n    buttons: [{}],\n  },{\n    id: 'options',\n    buttons: [{\n      id: swv,\n      command: swv,\n      context: swv,\n      active: 1,\n      className: 'fa fa-square-o',\n      attributes: {\n        title: 'Show Borders'\n      }\n    },{\n      id: prv,\n      context: prv,\n      command: e => e.runCommand(prv),\n      className: 'fa fa-eye',\n      attributes: {\n        title: 'Preview'\n      }\n    },{\n      id: ful,\n      command: ful,\n      context: ful,\n      className: 'fa fa-arrows-alt',\n      attributes: {\n        title: 'Fullscreen'\n      }\n    },{\n      id: expt,\n      className: 'fa fa-code',\n      command: e => e.runCommand(expt),\n      attributes: {\n        title: 'Show code'\n      }\n    },{\n      id: 'undo',\n      className: 'fa fa-undo',\n      command: e => e.runCommand('core:undo'),\n      attributes: {\n        title: 'Undo'\n      }\n    },{\n      id: 'redo',\n      className: 'fa fa-repeat',\n      command: e => e.runCommand('core:redo'),\n      attributes: {\n        title: 'Redo'\n      }\n    },{\n      id: cmdClear,\n      className: 'fa fa-trash',\n      command: e => e.runCommand(cmdClear),\n      attributes: {\n        title: 'Clear canvas'\n      }\n    }],\n  },{\n    id: 'views',\n    buttons  : [{\n      id: osm,\n      command: osm,\n      className: 'fa fa-paint-brush',\n      attributes: {\n        title: 'Style Manager'\n      }\n    },{\n      id: otm,\n      command: otm,\n      className: 'fa fa-cog',\n      attributes: {\n        title: 'Settings'\n      }\n    },{\n      id: ola,\n      command: ola,\n      className: 'fa fa-bars',\n      attributes: {\n        title: 'Layers'\n      }\n    },{\n      id: obl,\n      command: obl,\n      className: 'fa fa-th-large',\n      active: 1,\n      attributes: {\n        title: 'Blocks'\n      }\n    }],\n  }])\n\n  // Add devices buttons\n  const panelDevices = pn.addPanel({id: 'devices-c'})\n  panelDevices.get('buttons').add([{\n    id: cmdDeviceDesktop,\n    command: cmdDeviceDesktop,\n    className: 'fa fa-desktop',\n    active: 1,\n  },{\n    id: cmdDeviceTablet,\n    command: cmdDeviceTablet,\n    className: 'fa fa-tablet',\n  },{\n    id: cmdDeviceMobile,\n    command: cmdDeviceMobile,\n    className: 'fa fa-mobile',\n  }])\n\n\n  editor.on('load', () => {\n    const pn       = editor.Panels\n    const editorEl = $(editor.getEl())\n\n    // Load and show settings and style manager\n    const openTmBtn = pn.getButton('views', 'open-tm')\n    openTmBtn && openTmBtn.set('active', 1)\n    const openSm = pn.getButton('views', 'open-sm')\n    openSm && openSm.set('active', 1)\n\n    // Add Settings Sector\n    const traitsSector = $(`<div class=\"gjs-sm-sector no-select\">\n<div class=\"gjs-sm-title\"><span class=\"icon-settings fa fa-cog\"></span> Settings</div>\n<div class=\"gjs-sm-properties\"></div></div>`)\n    const traitsProps  = traitsSector.find('.gjs-sm-properties')\n\n    // copy from settings tab into traits sector and then hide settings tab\n    traitsProps.append(editorEl.find('.gjs-trt-traits'))\n    editorEl.find('.gjs-pn-views .fa-cog').hide()\n    editorEl.find('.gjs-sm-sectors').before(traitsSector)\n\n    traitsSector.find('.gjs-sm-title').on('click', () => {\n      const traitStyle = traitsProps.get(0).style\n      const hidden = traitStyle.display === 'none'\n      if (hidden) {\n        traitStyle.display = 'block'\n      } else {\n        traitStyle.display = 'none'\n      }\n    })\n\n    const openBl = pn.getButton('views', obl)\n    openBl && openBl.set('active', 1)\n\n    // On component change show the Style Manager\n    opts.showStylesOnChange && editor.on('component:selected', () => {\n      const openSmBtn = pn.getButton('views', osm)\n      const openLayersBtn = pn.getButton('views', ola)\n\n      // Don't switch when the Layer Manager is on or\n      // there is no selected component\n      if ((!openLayersBtn || !openLayersBtn.get('active')) && editor.getSelected()) {\n        openSmBtn && openSmBtn.set('active', 1)\n      }\n    })\n  })\n}\n","import $ from 'jquery'\n\nexport default (editor, opts = {}) => {\n  const tm = editor.TraitManager\n  const dc = editor.DomComponents\n  const bm = editor.BlockManager\n\n  const defaultType  = dc.getType('default')\n  const selectType   = dc.getType('select') || defaultType\n  const defaultModel = defaultType.model\n  const defaultView  = defaultType.view\n  const textType     = dc.getType('text')\n\n  const fieldTraits = defaultModel.prototype.defaults.traits.concat([\n    {\n      type: 'text',\n      name: 'name_attr',\n      label: 'Name',\n      placeholder: 'Enter a field name..'\n    }, {\n      type: 'text',\n      name: 'label_attr',\n      label: 'Label',\n      placeholder: 'Enter a field label..'\n    }\n  ])\n\n  const inputTraits = fieldTraits.concat([\n    {\n      type: 'text',\n      name: 'value_attr',\n      label: 'Value',\n      changeProp: 1,\n      placeholder: 'Enter a default value..'\n    }, {\n      type: 'text',\n      name: 'placeholder_attr',\n      label: 'Placeholder',\n      changeProp: 1,\n      placeholder: 'Enter placeholder text..'\n    }, {\n      type: 'checkbox',\n      name: 'required_attr',\n      changeProp: 1,\n      label: 'Required'\n    }, {\n      type: 'text',\n      name: 'pattern_attr',\n      changeProp: 1,\n      label: 'Pattern'\n    }, {\n      type: 'number',\n      name: 'min_attr',\n      changeProp: 1,\n      label: 'Min'\n    }, {\n      type: 'number',\n      name: 'max_attr',\n      changeProp: 1,\n      label: 'Max'\n    }\n  ])\n\n  // text, password, email, number, url, tel, search, date, datetime,\n  // datetime-local, month, week, time, range, or color\n  // exclude: file\n  const inputTypeTrait = {\n    type: 'select',\n    name: 'type_attr',\n    label: 'Type',\n    options: [\n      { name: 'Text', value: 'text' },\n      { name: 'Password', value: 'password' },\n      { name: 'Email', value: 'email' },\n      { name: 'Number', value: 'number' },\n      { name: 'URL', value: 'url' },\n      { name: 'Phone', value: 'tel' },\n      // { name: 'Search', value: 'tel' },\n      { name: 'Date', value: 'date' },\n      { name: 'Date Time', value: 'datetime-local' },\n      // { name: 'Month', value: 'month' },\n      // { name: 'Week', value: 'week' },\n      { name: 'Range', value: 'range' },\n      // { name: 'Time', value: 'time' },\n      { name: 'Color Picker', value: 'color' },\n    ]\n  }\n\n  // advanced traits\n  tm.addType('option_attr', {\n    events:{\n      'onchange': 'onChange'\n    },\n\n    /**\n    * Returns the input element\n    * @return {HTMLElement}\n    */\n    getInputEl: function() {\n      if (!this.inputEl) {\n        var input = document.createElement('textarea')\n        input.value = this.target.get('option_attr')\n        this.inputEl = input\n      }\n\n      return this.inputEl\n    },\n\n    /**\n     * Triggered when the value of the model is changed\n     */\n    onValueChange: function () {\n      this.target.set('option_attr', this.model.get('value'))\n    }\n  })\n\n  const myDefaultModel = defaultModel.extend({\n    defaults: {\n      ...defaultModel.prototype.defaults,\n      draggable: true,\n      droppable: true,\n      copyable: false,\n      label_attr: 'Label'\n    },\n    // force regenerate of HTML\n    toHTML() {\n      let html = ''\n      if (!this.view.el) {\n        const el = document.createElement(this.attributes.tagName)\n\n        html = this.generateHtml(el)[0].outerHTML\n      }\n\n      html = this.generateHtml()[0].outerHTML\n\n      return html\n    },\n    getTraitValues() {\n      const values = { ...this.attributes }\n      this.get('traits').\n        each((trait) => {\n          const k = trait.get('name')\n          values[k] = trait.get('value') || values[k]\n        })\n      return values\n    },\n    ensureNameAttr(attrs) {\n      const model = this\n      const nameTrait = model.get('traits').where({name: 'name_attr'})[0]\n\n      if (nameTrait) {\n        let name = attrs.name_attr\n        if (!name) {\n          name = `${opts.formFieldsPrefix}${opts.formNextId++}`\n\n          nameTrait.set('value', name)\n          model.setAttributes({ name_attr: name })\n        }\n\n        // this ensure name value exists and is correct on the UI\n        attrs.name_attr = name\n      }\n    },\n    generateHtml(el = this.view.el, k = this.attributes.tagName) {\n      const model = this\n      const $el   = $(el || this.view.el)\n      const attrs = this.getTraitValues()\n      const $k    = $k || model.get('tagName')\n\n      if (opts && opts.comps && opts.comps[$k]) {\n        const templateFn = opts.comps[$k].template\n\n        if (typeof(templateFn) === 'function') {\n          model.ensureNameAttr(attrs)\n          $el.empty()\n          $el.append(templateFn(attrs))\n        }\n      }\n\n      return $el\n    }\n  })\n\n  // override default view to generate html\n  const myDefaultView = defaultView.extend({\n    onRender() {\n      if (this.model.generateHtml) {\n        this.model.generateHtml()\n      }\n\n      return this\n    }\n  })\n\n  // BEGIN: components\n  dc.addType('comp_input', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_input',\n        type_attr: 'text',\n        traits: inputTraits.concat(inputTypeTrait),\n        classes: ('comp_input ' + (opts.comps.comp_input.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n        that.listenTo(that, 'change:placeholder_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  // Select Box\n  dc.addType('comp_select', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_select',\n        option_attr: 'MN::Minnesota\\nTX::Texas',\n        label_attr: 'Select',\n        traits: [\n          {\n            type: 'option_attr'\n          }, {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }, {\n            type: 'checkbox',\n            name: 'multiple_attr',\n            changeProp: 1,\n            label: 'Multiple'\n          }\n        ].concat(fieldTraits),\n        classes: ('comp_select ' + (opts.comps.comp_select.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n        that.listenTo(that, 'change:multiple_attr', that.generateHtml)\n        that.listenTo(that, 'change:option_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_textarea', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_textarea',\n        label_attr: 'Message',\n        traits: [\n          {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }, {\n            type: 'text',\n            name: 'placeholder_attr',\n            label: 'Placeholder',\n            changeProp: 1,\n            placeholder: 'Enter placeholder text..'\n          }, {\n            type: 'number',\n            name: 'rows_attr',\n            label: 'Rows',\n            changeProp: 1,\n            placeholder: 'Enter field rows/line-height..'\n          }, {\n            type: 'number',\n            name: 'cols_attr',\n            label: 'Columns',\n            changeProp: 1,\n            placeholder: 'Enter field columns/width..'\n          },\n        ].concat(fieldTraits),\n        classes: ('comp_textarea ' + (opts.comps.comp_textarea.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n        that.listenTo(that, 'change:placeholder_attr', that.generateHtml)\n        that.listenTo(that, 'change:cols_attr', that.generateHtml)\n        that.listenTo(that, 'change:rows_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_checkbox', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_checkbox',\n        label_attr: 'I accept the terms and use',\n        traits: [\n          {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }\n        ].concat(fieldTraits),\n        classes: ('comp_checkbox ' + (opts.comps.comp_checkbox.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_hidden', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_hidden',\n        traits: [{\n          type: 'text',\n          name: 'name_attr',\n          label: 'Name',\n          changeProp: 1,\n          placeholder: 'Enter a field name...'\n        }],\n        classes: ('comp_hidden ' + (opts.comps.comp_hidden.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_submit', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_submit',\n        label_attr: 'Send',\n        traits: defaultModel.prototype.defaults.traits.concat([\n          {\n            type: 'text',\n            name: 'label_attr',\n            label: 'Label',\n            placeholder: 'Enter a field label..'\n          }\n        ]),\n        classes: ('comp_submit ' + (opts.comps.comp_submit.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_row', {\n    model: defaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        tagName: 'comp_row',\n        // Can be dropped inside other elements\n        draggable: true,\n        copyable: false,\n        // Can drop other elements inside it\n        droppable: 'comp_col',\n        classes: ('comp_row ' + (opts.comps.comp_row.classes || '')).split(' ')\n      }\n    }),\n    view: defaultView\n  })\n\n  dc.addType('comp_col', {\n    model: defaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        tagName: 'comp_col',\n        // Can be dropped only inside `row` elements\n        draggable: 'comp_row',\n        // Can drop other elements inside it\n        droppable: true,\n        copyable: false,\n        classes: ('comp_col ' + (opts.comps.comp_col.classes || '')).split(' ')\n      }\n    }),\n    view: defaultView\n  })\n\n    // override default view to generate html\n  const myTextView = textType.view.extend({\n    getChildrenSelector() {\n      let container = $(this.el).find('.note-editor')\n      if (container.length <= 0) {\n        $(this.el).html('<div class=\"note-editor\" contenteditable=\"true\"></div>')\n      }\n\n      return '.note-editor'\n    }\n  })\n\n  dc.addType('comp_text', {\n    model: textType.model,\n    view: myTextView\n  })\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_eEd5__;","export default (editor, opts = {}) => {\n  const bm     = editor.BlockManager\n  const c      = opts.comps\n  const blocks = c.blocks\n  const cats   = c.blockCategories\n\n  if (opts.resetBlocks) {\n    bm.getAll().reset()\n  }\n\n  const allBlocks = {\n    category: opts.categoryLabel\n  }\n\n  // CORE BLOCKS\n  bm.add('comp_col1').set({\n    label: c.comp_col1.label,\n    attributes: { class: 'gjs-fonts gjs-f-b1' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col' }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_col2').set({\n    label: c.comp_col2.label,\n    attributes: { class: 'gjs-fonts gjs-f-b2' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col' },\n        { type: 'comp_col' }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_col3').set({\n    label: c.comp_col3.label,\n    attributes: { class: 'gjs-fonts gjs-f-b3' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col' },\n        { type: 'comp_col' },\n        { type: 'comp_col' }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_submit', {\n    label: `\n      <div style=\"color: #fff;\n    background-color: #007bff;\n    border-color: #007bff;\n    display: inline-block;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    border: 1px solid transparent;\n    padding-left: 5px;\n    padding-right: 5px;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: .25rem;\n    margin-top: 12px;\n    margin-bottom: 16px;\n    width: 50px;\">&nbsp;</div>\n      <div class=\"gjs-block-label\">${c.comp_submit.label}</div>\n    `,\n    content: {\n      type: 'comp_submit'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_input', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_input.label}</div>`,\n    content: {\n      type: 'comp_input'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_textarea', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 8 5 8 5 12 4 12\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"19 7 20 7 20 17 19 17\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"20 8 21 8 21 9 20 9\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"20 15 21 15 21 16 20 16\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_textarea.label}</div>`,\n    content: {\n      type: 'comp_textarea'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_select', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\" fill-rule=\"nonzero\"></path>\n      <polygon class=\"gjs-block-svg-path\" transform=\"translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) \" points=\"18.5 11 20 13 17 13\"></polygon>\n      <rect class=\"gjs-block-svg-path\" x=\"4\" y=\"11.5\" width=\"11\" height=\"1\"></rect>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_select.label}</div>`,\n    content: {\n      type: 'comp_select'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_checkbox', {\n    label: c.comp_checkbox.label,\n    attributes: { class: 'fa fa-check-square' },\n    content: {\n      type: 'comp_checkbox'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_hidden', {\n    label: `<svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_hidden.label}</div>`,\n    content: {\n      type: 'comp_hidden'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_text', {\n    label: c.comp_text.label,\n    attributes: {class:'gjs-fonts gjs-f-text'},\n    content: {\n      type:'comp_text',\n      content:'Insert your text here',\n      style: {padding: '10px' },\n      activeOnRender: 1\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_image', {\n    label: c.comp_image.labelImage,\n    attributes: {class:'gjs-fonts gjs-f-image'},\n    content: {\n      style: {color: 'black'},\n      type:'image',\n      activeOnRender: 1\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_map', {\n    label: c.comp_map.label,\n    attributes: {class:'fa fa-map-o'},\n    content: {\n      type: 'map',\n      style: {height: '350px'}\n    },\n    ...allBlocks\n  })\n}\n","import $ from 'jquery'\n\nexport default (editor, opts = {}) => {\n  const commands   = editor.Commands\n  const pn         = editor.Panels\n  const opts_comps = opts.comps || {}\n\n  const default_comps = {\n    'comp_input': {\n      label: 'Input',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\">{{=it.label_attr}}</label>\n        <input {{= it.required_attr ? 'required ' : '' }}type=\"{{=it.type_attr}}\" class=\"form-control\" name=\"{{=it.name_attr}}\" placeholder=\"{{=it.placeholder_attr || ''}}\" {{= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' }}/>\n      `\n    },\n    'comp_select': {\n      label: 'Select',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\">{{=it.label_attr}}</label>\n        <select {{= it.multiple_attr ? 'multiple ' : '' }}{{= it.required_attr ? 'required ' : '' }}class=\"form-control\" name=\"{{=it.name_attr}}\">\n          <option selected>-- Please select an option -- </option>\n          {{~ (it.option_attr + \"\").trim().split(\"\\\\n\") :option }}\n          {{ var msgProps = option.split('::');\n          }} <option value=\"{{= msgProps[0]}}\">{{= msgProps[1] || msgProps[0] }}</option>{{~}}\n        </select>\n      `\n    },\n    'comp_textarea': {\n      label: 'Textarea',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\">{{=it.label_attr}}</label>\n        <textarea {{= it.required_attr ? 'required ' : '' }}{{= it.rows_attr ? 'rows=\"' + it.rows_attr + '\" ' : '' }}{{= it.rows_attr ? 'cols=\"' + it.rows_attr + '\" ' : '' }}class=\"form-control\" name=\"{{=it.name_attr}}\" placeholder=\"{{=it.placeholder_attr || ''}}\">{{= it.value_attr || '' }}</textarea>\n      `\n    },\n    'comp_checkbox': {\n      label: 'Checkbox',\n      classes: 'form-check',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\" class=\"form-check-label\">\n          <input {{= it.required_attr ? 'required ' : '' }}type=\"checkbox\" name=\"{{=it.name_attr}}\" class=\"form-check-input\" {{= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' }}/>\n          {{=it.label_attr}}\n        </label>\n      `\n    },\n    'comp_hidden': {\n      label: 'Hidden Input',\n      useTag: 'div',\n      template: `\n        <input {{= it.required_attr ? 'required ' : '' }}type=\"hidden\" name=\"{{=it.name_attr}}\" {{= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' }}/>\n      `\n    },\n    'comp_submit': {\n      label: 'Submit Button',\n      classes: 'btn btn-primary btn-block',\n      useTag: 'button',\n      template: '{{= it.label_attr }}'\n    },\n    'comp_row': {\n      label: 'Row',\n      useTag: 'div',\n      classes: 'row'\n    },\n    'comp_col': {\n      label: 'Column',\n      useTag: 'div',\n      classes: 'col'\n    },\n    'comp_col1': {\n      label: '1 Column',\n      useTag: 'div',\n    },\n    'comp_col2': {\n      label: '2 Columns',\n      useTag: 'div',\n    },\n    'comp_col3': {\n      label: '3 Columns',\n      useTag: 'div',\n    },\n    'comp_text': {\n      label: 'Text'\n    },\n    'comp_link': {\n      label: 'Link'\n    },\n    'comp_image': {\n      label: 'Image'\n    },\n    'comp_video': {\n      label: 'Video'\n    },\n    'comp_map': {\n      label: 'Map'\n    }\n  }\n\n  // provide defaults\n  for(let k in default_comps) {\n    const x = default_comps[k]\n    const y = opts_comps[k]\n    if (y) {\n      for(let j in y) {\n        y[j] = y[j] || x[j]\n      }\n    } else {\n      opts_comps[k] = x\n    }\n  }\n\n  const options = {\n    formNextId: 1,\n    categoryLabel: 'Basic',\n    formFieldsPrefix: 'Field',\n    showStylesOnChange: 1,\n    addResource: (url, type='script') => {\n\n      const doc    = editor.Canvas.getDocument()\n      const head   = doc.head || doc.getElementsByTagName('head')[0]\n      const res    = document.createElement(type)\n\n      if (type === 'script') {\n        res.src = url\n      }\n      else if (type === 'link') {\n        res.rel    = 'stylesheet'\n        res.href   = url\n      }\n\n      head.appendChild(res)\n    }, ...opts\n  }\n\n  options.comps = options.comps || opts_comps\n\n  const compileTemplates = () => {\n    let doT = null\n\n    Object.keys(options.comps).forEach(k => {\n      const t = options.comps[k]\n\n      if (t && typeof(t.template) === 'string') {\n        if (!doT) {\n          doT = require('dot')\n        }\n\n        t.template = doT.template(t.template)\n      }\n    })\n  }\n\n  commands.add('get-usable-html', {\n    run() {\n      // get the builder xml\n      let html = editor.getHtml()\n\n      // convert into html\n      for(let k in options.comps) {\n        // default tag as div unless realTag value is provided\n        const tag = options.comps[k].realTag || 'div'\n        html = html.replace(new RegExp('<' + k, 'g'), '<' + tag)\n        html = html.replace(new RegExp('</' + k + '>', 'g'), '</' + tag + '>')\n        html = html.replace(` data-gjs-type=\"${k}\" `, ' ')\n        html = html.replace(' data-highlightable=\"1\" ', ' ')\n      }\n\n      return html\n    }\n  })\n\n  // Add plugins\n  require('./traits').default(editor, options)\n  require('./blocks').default(editor, options)\n\n  if (opts.panel) {\n    require('./panels').default(editor, options)\n  }\n\n  editor.on('load', () => {\n    compileTemplates()\n\n    setTimeout(() => {\n      const doc  = editor.Canvas.getDocument()\n      const head = doc.head || doc.getElementsByTagName('head')[0]\n      var css    = `\nbody {\n  padding: 10px;\n}\n\ncomp_row,\ncomp_col {\n  min-height: 2rem !important;\n}\n\ncomp_row {\n  display: block;\n  width: 100%;\n  margin-left: 15px;\n  margin-right: 15px;\n}\n\ncomp_col {\n  min-width: 100px;\n}\n`\n\n      const style = doc.createElement('style')\n\n      style.type = 'text/css';\n      if (style.styleSheet){\n        // This is required for IE8 and below.\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }, 10)\n  })\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_xeH2__;"],"sourceRoot":""}