{"version":3,"sources":["webpack://grapesjs-components-farmer/webpack/universalModuleDefinition","webpack://grapesjs-components-farmer/webpack/bootstrap","webpack://grapesjs-components-farmer/./src/consts.js","webpack://grapesjs-components-farmer/./src/panels.js","webpack://grapesjs-components-farmer/./src/traits.js","webpack://grapesjs-components-farmer/external \"doT\"","webpack://grapesjs-components-farmer/./src/blocks.js","webpack://grapesjs-components-farmer/./src/index.js","webpack://grapesjs-components-farmer/external \"jQuery\""],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE_eEd5__","__WEBPACK_EXTERNAL_MODULE_xeH2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","editor","config","cmds","Commands","pn","Panels","eConfig","getConfig","swv","expt","osm","ola","obl","ful","prv","showDevices","txtConfirm","textCleanCanvas","add","e","setDevice","confirm","runCommand","getPanels","reset","id","buttons","command","context","active","className","attributes","title","addPanel","showStylesOnChange","on","openSmBtn","getButton","openLayersBtn","getSelected","set","editorEl","$","getEl","traitsSector","traitsProps","find","append","before","hide","traitStyle","style","hidden","display","openBl","opt","arguments","length","undefined","tm","TraitManager","dc","DomComponents","defaultType","BlockManager","getType","defaultModel","model","defaultView","view","fieldTraits","type","label","placeholder","inputTraits","concat","changeProp","addType","events","onchange","getInputEl","this","inputEl","input","document","createElement","target","onValueChange","myDefaultModel","extend","defaults","_objectSpread","draggable","droppable","copyable","label_attr","toHTML","el","tagName","generateHtml","outerHTML","getTraitValues","values","each","trait","k","ensureNameAttr","attrs","nameTrait","where","name_attr","formFieldsPrefix","formNextId","setAttributes","$el","$k","comps","templateFn","template","empty","myDefaultView","onRender","type_attr","traits","options","classes","comp_input","split","init","listenTo","option_attr","comp_select","comp_textarea","comp_checkbox","comp_hidden","comp_submit","comp_row","comp_col","bm","blocks","blockCategories","resetBlocks","getAll","allBlocks","category","categoryLabel","comp_col1","class","content","components","comp_col2","comp_col3","opts","commands","opts_comps","default_comps","useTag","x","y","j","run","html","getHtml","tag","realTag","replace","RegExp","default","panel","doT","keys","forEach","setTimeout","getWrapper","parent","addClass"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"doT\"), require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"grapesjs-components-farmer\", [\"doT\", \"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-components-farmer\"] = factory(require(\"doT\"), require(\"jQuery\"));\n\telse\n\t\troot[\"grapesjs-components-farmer\"] = factory(root[\"doT\"], root[\"jQuery\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_eEd5__, __WEBPACK_EXTERNAL_MODULE_xeH2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const\n  cmdDeviceDesktop = 'set-device-desktop',\n  cmdDeviceTablet = 'set-device-tablet',\n  cmdDeviceMobile = 'set-device-mobile',\n  cmdClear = 'canvas-clear'\n","import {\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear\n} from './consts'\n\nimport $ from 'jquery'\n\nexport default (editor, config) => {\n  const cmds    = editor.Commands\n  const pn      = editor.Panels\n  const eConfig = editor.getConfig()\n  const crc     = 'create-comp'\n  const mvc     = 'move-comp'\n  const swv     = 'sw-visibility'\n  const expt    = 'export-template'\n  const osm     = 'open-sm'\n  const otm     = 'open-tm'\n  const ola     = 'open-layers'\n  const obl     = 'open-blocks'\n  const ful     = 'fullscreen'\n  const prv     = 'preview'\n\n  eConfig.showDevices = 0\n\n  const txtConfirm = config.textCleanCanvas || 'Are you sure to clean the canvas?'\n\n  cmds.add(cmdDeviceDesktop, e => e.setDevice('Desktop'))\n  cmds.add(cmdDeviceTablet, e => e.setDevice('Tablet'))\n  cmds.add(cmdDeviceMobile, e => e.setDevice('Mobile portrait'))\n  cmds.add(cmdClear, e => confirm(txtConfirm) && e.runCommand('core:canvas-clear'))\n\n  pn.getPanels().reset([{\n    id: 'commands',\n    buttons: [{}],\n  },{\n    id: 'options',\n    buttons: [{\n      id: swv,\n      command: swv,\n      context: swv,\n      active: 1,\n      className: 'fa fa-square-o',\n      attributes: {\n        title: 'Show Borders'\n      }\n    },{\n      id: prv,\n      context: prv,\n      command: e => e.runCommand(prv),\n      className: 'fa fa-eye',\n      attributes: {\n        title: 'Preview'\n      }\n    },{\n      id: ful,\n      command: ful,\n      context: ful,\n      className: 'fa fa-arrows-alt',\n      attributes: {\n        title: 'Fullscreen'\n      }\n    },{\n      id: expt,\n      className: 'fa fa-code',\n      command: e => e.runCommand(expt),\n      attributes: {\n        title: 'Show code'\n      }\n    },{\n      id: 'undo',\n      className: 'fa fa-undo',\n      command: e => e.runCommand('core:undo'),\n      attributes: {\n        title: 'Undo'\n      }\n    },{\n      id: 'redo',\n      className: 'fa fa-repeat',\n      command: e => e.runCommand('core:redo'),\n      attributes: {\n        title: 'Redo'\n      }\n    },{\n      id: cmdClear,\n      className: 'fa fa-trash',\n      command: e => e.runCommand(cmdClear),\n      attributes: {\n        title: 'Clear canvas'\n      }\n    }],\n  },{\n    id: 'views',\n    buttons  : [{\n      id: osm,\n      command: osm,\n      active: 1,\n      className: 'fa fa-paint-brush',\n      attributes: {\n        title: 'Style Manager'\n      }\n    },{\n      id: otm,\n      command: otm,\n      active: 1,\n      className: 'fa fa-cog',\n      attributes: {\n        title: 'Settings'\n      }\n    },{\n      id: ola,\n      command: ola,\n      active: 1,\n      className: 'fa fa-bars',\n      attributes: {\n        title: 'Layers'\n      }\n    },{\n      id: obl,\n      command: obl,\n      className: 'fa fa-th-large',\n      active: 1,\n      attributes: {\n        title: 'Blocks'\n      }\n    }],\n  }])\n\n  // Add devices buttons\n  const panelDevices = pn.addPanel({id: 'devices-c'})\n  panelDevices.get('buttons').add([{\n    id: cmdDeviceDesktop,\n    command: cmdDeviceDesktop,\n    className: 'fa fa-desktop',\n    active: 1,\n  },{\n    id: cmdDeviceTablet,\n    command: cmdDeviceTablet,\n    className: 'fa fa-tablet',\n  },{\n    id: cmdDeviceMobile,\n    command: cmdDeviceMobile,\n    className: 'fa fa-mobile',\n  }])\n\n  // On component change show the Style Manager\n  config.showStylesOnChange && editor.on('component:selected', () => {\n    const openSmBtn = pn.getButton('views', osm)\n    const openLayersBtn = pn.getButton('views', ola)\n\n    // Don't switch when the Layer Manager is on or\n    // there is no selected component\n    if ((!openLayersBtn || !openLayersBtn.get('active')) && editor.getSelected()) {\n      openSmBtn && openSmBtn.set('active', 1)\n    }\n  })\n\n  editor.on('load', () => {\n    const pn       = editor.Panels\n    const editorEl = $(editor.getEl())\n\n    // Add Settings Sector\n    const traitsSector = $(`<div class=\"gjs-sm-sector no-select\">\n<div class=\"gjs-sm-title\"><span class=\"icon-settings fa fa-cog\"></span> Settings</div>\n<div class=\"gjs-sm-properties\" style=\"display: none;\"></div></div>`)\n    const traitsProps  = traitsSector.find('.gjs-sm-properties')\n\n    // copy from settings tab into traits sector and then hide settings tab\n    traitsProps.append(editorEl.find('.gjs-trt-traits'))\n    editorEl.find('.gjs-sm-sectors').before(traitsSector)\n    editorEl.find('.gjs-pn-views .fa-cog').hide()\n\n    traitsSector.find('.gjs-sm-title').on('click', () => {\n      const traitStyle = traitsProps.get(0).style\n      const hidden = traitStyle.display === 'none'\n      if (hidden) {\n        traitStyle.display = 'block'\n      } else {\n        traitStyle.display = 'none'\n      }\n    })\n\n    const openBl = pn.getButton('views', obl)\n    openBl && openBl.set('active', 1)\n  })\n}\n","import $ from 'jquery'\n\nexport default (editor, opt = {}) => {\n  const tm = editor.TraitManager\n  const dc = editor.DomComponents\n  const bm = editor.BlockManager\n\n  const defaultType  = dc.getType('default')\n  const selectType   = dc.getType('select') || defaultType\n  const defaultModel = defaultType.model\n  const defaultView  = defaultType.view\n\n  const fieldTraits = [\n    {\n      type: 'text',\n      name: 'name_attr',\n      label: 'Name',\n      placeholder: 'Enter a field name..'\n    }, {\n      type: 'text',\n      name: 'label_attr',\n      label: 'Label',\n      placeholder: 'Enter a field label..'\n    }\n  ]\n\n  const inputTraits = fieldTraits.concat([\n    {\n      type: 'text',\n      name: 'value_attr',\n      label: 'Value',\n      changeProp: 1,\n      placeholder: 'Enter a default value..'\n    }, {\n      type: 'text',\n      name: 'placeholder_attr',\n      label: 'Placeholder',\n      changeProp: 1,\n      placeholder: 'Enter placeholder text..'\n    }, {\n      type: 'checkbox',\n      name: 'required_attr',\n      changeProp: 1,\n      label: 'Required'\n    }, {\n      type: 'text',\n      name: 'pattern_attr',\n      changeProp: 1,\n      label: 'Pattern'\n    }, {\n      type: 'number',\n      name: 'min_attr',\n      changeProp: 1,\n      label: 'Min'\n    }, {\n      type: 'number',\n      name: 'max_attr',\n      changeProp: 1,\n      label: 'Max'\n    }\n  ])\n\n  // text, password, email, number, url, tel, search, date, datetime,\n  // datetime-local, month, week, time, range, or color\n  // exclude: file\n  const inputTypeTrait = {\n    type: 'select',\n    name: 'type_attr',\n    label: 'Type',\n    options: [\n      { name: 'Text', value: 'text' },\n      { name: 'Password', value: 'password' },\n      { name: 'Email', value: 'email' },\n      { name: 'Number', value: 'number' },\n      { name: 'URL', value: 'url' },\n      { name: 'Phone', value: 'tel' },\n      // { name: 'Search', value: 'tel' },\n      { name: 'Date', value: 'date' },\n      { name: 'Date Time', value: 'datetime-local' },\n      // { name: 'Month', value: 'month' },\n      // { name: 'Week', value: 'week' },\n      { name: 'Range', value: 'range' },\n      // { name: 'Time', value: 'time' },\n      { name: 'Color Picker', value: 'color' },\n    ]\n  }\n\n  // advanced traits\n  tm.addType('option_attr', {\n    events:{\n      'onchange': 'onChange'\n    },\n\n    /**\n    * Returns the input element\n    * @return {HTMLElement}\n    */\n    getInputEl: function() {\n      if (!this.inputEl) {\n        var input = document.createElement('textarea')\n        input.value = this.target.get('option_attr')\n        this.inputEl = input\n      }\n\n      return this.inputEl\n    },\n\n    /**\n     * Triggered when the value of the model is changed\n     */\n    onValueChange: function () {\n      this.target.set('option_attr', this.model.get('value'))\n    }\n  })\n\n  const myDefaultModel = defaultModel.extend({\n    defaults: {\n      ...defaultModel.prototype.defaults,\n      draggable: true,\n      droppable: true,\n      copyable: false,\n      label_attr: 'Label'\n    },\n    // force regenerate of HTML\n    toHTML() {\n      let html = ''\n      if (!this.view.el) {\n        const el = document.createElement(this.attributes.tagName)\n\n        html = this.generateHtml(el)[0].outerHTML\n      }\n\n      html = this.generateHtml()[0].outerHTML\n\n      return html\n    },\n    getTraitValues() {\n      const values = { ...this.attributes }\n      this.get('traits').\n        each((trait) => {\n          const k = trait.get('name')\n          values[k] = trait.get('value') || values[k]\n        })\n      return values\n    },\n    ensureNameAttr(attrs) {\n      const model = this\n      const nameTrait = model.get('traits').where({name: 'name_attr'})[0]\n\n      if (nameTrait) {\n        let name = attrs.name_attr\n        if (!name) {\n          name = `${opt.formFieldsPrefix}${opt.formNextId++}`\n\n          nameTrait.set('value', name)\n          model.setAttributes({ name_attr: name })\n        }\n\n        // this ensure name value exists and is correct on the UI\n        attrs.name_attr = name\n      }\n    },\n    generateHtml(el = this.view.el, k = this.attributes.tagName) {\n      const model = this\n      const $el   = $(el || this.view.el)\n      const attrs = this.getTraitValues()\n      const $k    = $k || model.get('tagName')\n\n      if (opt && opt.comps && opt.comps[$k]) {\n        const templateFn = opt.comps[$k].template\n\n        if (typeof(templateFn) === 'function') {\n          model.ensureNameAttr(attrs)\n          $el.empty()\n          $el.append(templateFn(attrs))\n        }\n      }\n\n      return $el\n    }\n  })\n\n  // override default view to generate html\n  const myDefaultView = defaultView.extend({\n    onRender() {\n      if (this.model.generateHtml) {\n        this.model.generateHtml()\n      }\n\n      return this\n    }\n  })\n\n  // BEGIN: components\n  dc.addType('comp_input', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_input',\n        type_attr: 'text',\n        traits: defaultModel.prototype.defaults.traits.concat(inputTypeTrait).concat(inputTraits),\n        classes: ('comp_input ' + (opt.comps.comp_input.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n        that.listenTo(that, 'change:placeholder_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  // Select Box\n  dc.addType('comp_select', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_select',\n        option_attr: 'MN::Minnesota\\nTX::Texas',\n        label_attr: 'Select',\n        traits: [\n          {\n            type: 'option_attr'\n          }, {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }, {\n            type: 'checkbox',\n            name: 'multiple_attr',\n            changeProp: 1,\n            label: 'Multiple'\n          }\n        ].concat(fieldTraits),\n        classes: ('comp_select ' + (opt.comps.comp_select.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n        that.listenTo(that, 'change:multiple_attr', that.generateHtml)\n        that.listenTo(that, 'change:option_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_textarea', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_textarea',\n        label_attr: 'Message',\n        traits: [\n          {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }, {\n            type: 'text',\n            name: 'placeholder_attr',\n            label: 'Placeholder',\n            changeProp: 1,\n            placeholder: 'Enter placeholder text..'\n          }, {\n            type: 'number',\n            name: 'rows_attr',\n            label: 'Rows',\n            changeProp: 1,\n            placeholder: 'Enter field rows/line-height..'\n          }, {\n            type: 'number',\n            name: 'cols_attr',\n            label: 'Columns',\n            changeProp: 1,\n            placeholder: 'Enter field columns/width..'\n          },\n        ].concat(fieldTraits),\n        classes: ('comp_textarea ' + (opt.comps.comp_textarea.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n        that.listenTo(that, 'change:placeholder_attr', that.generateHtml)\n        that.listenTo(that, 'change:cols_attr', that.generateHtml)\n        that.listenTo(that, 'change:rows_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_checkbox', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_checkbox',\n        label_attr: 'I accept the terms and use',\n        traits: [\n          {\n            type: 'checkbox',\n            name: 'required_attr',\n            changeProp: 1,\n            label: 'Required'\n          }\n        ].concat(fieldTraits),\n        classes: ('comp_checkbox ' + (opt.comps.comp_checkbox.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_hidden', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_hidden',\n        traits: [{\n          type: 'text',\n          name: 'name_attr',\n          label: 'Name',\n          changeProp: 1,\n          placeholder: 'Enter a field name...'\n        }],\n        classes: ('comp_hidden ' + (opt.comps.comp_hidden.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:name_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_submit', {\n    model: myDefaultModel.extend({\n      defaults: {\n        ...myDefaultModel.prototype.defaults,\n        draggable: true,\n        droppable: false,\n        copyable: false,\n        tagName: 'comp_submit',\n        label_attr: 'Send',\n        traits:[\n          {\n            type: 'text',\n            name: 'label_attr',\n            label: 'Label',\n            placeholder: 'Enter a field label..'\n          }\n        ],\n        classes: ('comp_submit ' + (opt.comps.comp_submit.classes || '')).split(' ')\n      },\n      init() {\n        const that = this\n\n        that.listenTo(that, 'change:label_attr', that.generateHtml)\n      }\n    }),\n    view: myDefaultView\n  })\n\n  dc.addType('comp_row', {\n    model: defaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        tagName: 'comp_row',\n        // Can be dropped inside other elements\n        draggable: true,\n        copyable: false,\n        // Can drop other elements inside it\n        droppable: 'comp_col',\n        classes: ('comp_row ' + (opt.comps.comp_row.classes || '')).split(' ')\n      }\n    }),\n    view: defaultView\n  })\n\n  dc.addType('comp_col', {\n    model: defaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        tagName: 'comp_col',\n        // Can be dropped only inside `row` elements\n        draggable: 'comp_row',\n        // Can drop other elements inside it\n        droppable: true,\n        copyable: false,\n        classes: ('comp_col ' + (opt.comps.comp_col.classes || '')).split(' ')\n      }\n    }),\n    view: defaultView\n  })\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_eEd5__;","export default (editor, opt = {}) => {\n  const bm     = editor.BlockManager\n  const c      = opt.comps\n  const blocks = c.blocks\n  const cats   = c.blockCategories\n\n  if (opt.resetBlocks) {\n    bm.getAll().reset()\n  }\n\n  const allBlocks = {\n    category: opt.categoryLabel\n  }\n\n  // CORE BLOCKS\n  bm.add('comp_col1').set({\n    label: c.comp_col1.label,\n    attributes: { class: 'gjs-fonts gjs-f-b1' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col' }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_col2').set({\n    label: c.comp_col2.label,\n    attributes: { class: 'gjs-fonts gjs-f-b2' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col' },\n        { type: 'comp_col' }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_col3').set({\n    label: c.comp_col3.label,\n    attributes: { class: 'gjs-fonts gjs-f-b3' },\n    content: {\n      type: 'comp_row',\n      components: [\n        { type: 'comp_col' },\n        { type: 'comp_col' },\n        { type: 'comp_col' }\n      ]\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_submit', {\n    label: `\n      <div style=\"color: #fff;\n    background-color: #007bff;\n    border-color: #007bff;\n    display: inline-block;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    border: 1px solid transparent;\n    padding-left: 5px;\n    padding-right: 5px;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: .25rem;\n    margin-top: 12px;\n    margin-bottom: 16px;\n    width: 50px;\">&nbsp;</div>\n      <div class=\"gjs-block-label\">${c.comp_submit.label}</div>\n    `,\n    content: {\n      type: 'comp_submit'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_input', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_input.label}</div>`,\n    content: {\n      type: 'comp_input'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_textarea', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 8 5 8 5 12 4 12\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"19 7 20 7 20 17 19 17\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"20 8 21 8 21 9 20 9\"></polygon>\n      <polygon class=\"gjs-block-svg-path\" points=\"20 15 21 15 21 16 20 16\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_textarea.label}</div>`,\n    content: {\n      type: 'comp_textarea'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_select', {\n    label: `\n    <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\" fill-rule=\"nonzero\"></path>\n      <polygon class=\"gjs-block-svg-path\" transform=\"translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) \" points=\"18.5 11 20 13 17 13\"></polygon>\n      <rect class=\"gjs-block-svg-path\" x=\"4\" y=\"11.5\" width=\"11\" height=\"1\"></rect>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_select.label}</div>`,\n    content: {\n      type: 'comp_select'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_checkbox', {\n    label: c.comp_checkbox.label,\n    attributes: { class: 'fa fa-check-square' },\n    content: {\n      type: 'comp_checkbox'\n    },\n    ...allBlocks\n  })\n\n  bm.add('comp_hidden', {\n    label: `<svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\n      <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\n    </svg>\n    <div class=\"gjs-block-label\">${c.comp_hidden.label}</div>`,\n    content: {\n      type: 'comp_hidden'\n    },\n    ...allBlocks\n  })\n}\n","import $ from 'jquery'\n\nexport default (editor, opts = {}) => {\n  const commands   = editor.Commands\n  const pn         = editor.Panels\n  const opts_comps = opts.comps || {}\n\n  const default_comps = {\n    'comp_input': {\n      label: 'Input',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\">{{=it.label_attr}}</label>\n        <input {{= it.required_attr ? 'required ' : '' }}type=\"{{=it.type_attr}}\" class=\"form-control\" name=\"{{=it.name_attr}}\" placeholder=\"{{=it.placeholder_attr || ''}}\" {{= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' }}/>\n      `\n    },\n    'comp_select': {\n      label: 'Select',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\">{{=it.label_attr}}</label>\n        <select {{= it.multiple_attr ? 'multiple ' : '' }}{{= it.required_attr ? 'required ' : '' }}class=\"form-control\" name=\"{{=it.name_attr}}\">\n          <option selected>-- Please select an option -- </option>\n          {{~ (it.option_attr + \"\").trim().split(\"\\\\n\") :option }}\n          {{ var msgProps = option.split('::');\n          }} <option value=\"{{= msgProps[0]}}\">{{= msgProps[1] || msgProps[0] }}</option>{{~}}\n        </select>\n      `\n    },\n    'comp_textarea': {\n      label: 'Textarea',\n      classes: 'form-group',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\">{{=it.label_attr}}</label>\n        <textarea {{= it.required_attr ? 'required ' : '' }}{{= it.rows_attr ? 'rows=\"' + it.rows_attr + '\" ' : '' }}{{= it.rows_attr ? 'cols=\"' + it.rows_attr + '\" ' : '' }}class=\"form-control\" name=\"{{=it.name_attr}}\" placeholder=\"{{=it.placeholder_attr || ''}}\">{{= it.value_attr || '' }}</textarea>\n      `\n    },\n    'comp_checkbox': {\n      label: 'Checkbox',\n      classes: 'form-check',\n      useTag: 'div',\n      template: `\n        <label for=\"{{=it.name_attr}}\" class=\"form-check-label\">\n          <input {{= it.required_attr ? 'required ' : '' }}type=\"checkbox\" name=\"{{=it.name_attr}}\" class=\"form-check-input\" {{= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' }}/>\n          {{=it.label_attr}}\n        </label>\n      `\n    },\n    'comp_hidden': {\n      label: 'Hidden Input',\n      useTag: 'div',\n      template: `\n        <input {{= it.required_attr ? 'required ' : '' }}type=\"hidden\" name=\"{{=it.name_attr}}\" {{= it.value_attr ? 'value=\"' + it.value_attr + '\"' : '' }}/>\n      `\n    },\n    'comp_submit': {\n      label: 'Submit Button',\n      classes: 'btn btn-primary btn-block',\n      useTag: 'button',\n      template: '{{= it.label_attr }}'\n    },\n    'comp_row': {\n      label: 'Row',\n      useTag: 'div',\n      classes: 'row'\n    },\n    'comp_col': {\n      label: 'Column',\n      useTag: 'div',\n      classes: 'col'\n    },\n    'comp_col1': {\n      label: '1 Column',\n      useTag: 'div',\n    },\n    'comp_col2': {\n      label: '2 Columns',\n      useTag: 'div',\n    },\n    'comp_col3': {\n      label: '3 Columns',\n      useTag: 'div',\n    }\n  }\n\n  // provide defaults\n  for(let k in default_comps) {\n    const x = default_comps[k]\n    const y = opts_comps[k]\n    if (y) {\n      for(let j in y) {\n        y[j] = y[j] || x[j]\n      }\n    } else {\n      opts_comps[k] = x\n    }\n  }\n\n  const options = {\n    formNextId: 1,\n    categoryLabel: 'Basic',\n    formFieldsPrefix: 'Field',\n    showStylesOnChange: 1\n    , ...opts\n  }\n\n  options.comps = options.comps || opts_comps\n\n  const compileTemplates = () => {\n    let doT = null\n\n    Object.keys(options.comps).forEach(k => {\n      const t = options.comps[k]\n\n      if (t && typeof(t.template) === 'string') {\n        if (!doT) {\n          doT = require('dot')\n        }\n\n        t.template = doT.template(t.template)\n      }\n    })\n  }\n\n  commands.add('get-usable-html', {\n    run() {\n      // get the builder xml\n      let html = editor.getHtml()\n\n      // convert into html\n      for(let k in options.comps) {\n        // default tag as div unless realTag value is provided\n        const tag = options.comps[k].realTag || 'div'\n        html = html.replace(new RegExp('<' + k, 'g'), '<' + tag)\n        html = html.replace(new RegExp('</' + k + '>', 'g'), '</' + tag + '>')\n      }\n\n      return html\n    }\n  })\n\n  // Add plugins\n  require('./traits').default(editor, options)\n  require('./blocks').default(editor, options)\n\n  if (opts.panel) {\n    require('./panels').default(editor, options)\n  }\n\n  editor.on('load', () => {\n    compileTemplates()\n\n    setTimeout(() => {\n      const body = editor.getWrapper().view.$el.parent('body')\n      body.addClass('components-farmer')\n    }, 1000)\n  })\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_xeH2__;"],"sourceRoot":""}